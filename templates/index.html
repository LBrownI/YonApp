<!DOCTYPE html>
<html lang="es">
<head>
    <title>YonApp</title>
    {% include 'components/head.html' %}
</head>
<body class="bg-slate-50 text-slate-800 h-screen overflow-hidden flex flex-col font-sans">

    <div id="view-login" class="fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-blue-900 to-slate-800">
        <div class="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md fade-in">
            <div class="text-center mb-1">
                <div class="p-3  w-16 h-16 flex items-center justify-center mx-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 132.34 157.44" class="w-24 h-24 text-blue-600 fill-current">
                        <path d="M99.87,66.18c7.02-.26,13.94.18,20.12,3.76,5.74,3.32,10.22,9.37,11.62,15.88,4.53,21.1-12.53,39.8-31.94,44.76-.76,2.14-1.15,4.38-1.97,6.51-4.13,10.66-14.9,19.28-26.46,20.06-13.97.94-28.94-.7-43.01.01-15.54-1.62-27.38-15.31-28.22-30.7V58.21c.06-1.75,1.45-3.15,3.21-3.2l94.35.15c.85.1,2.31,1.68,2.31,2.44v8.58ZM21.66,73.25c-2.42.54-1.33,5.13-.87,6.78.62,2.25,1.79,4.14,2.99,6.11-10.11,11.71-5.26,29.4,6.44,38.01,16.24,11.96,41.85,7.28,50.05-11.93,3.42-8,3.65-17.16-1.81-24.31-.33-.43-1.54-1.38-1.54-1.77,1.97-2.57,4.63-8.24,3.79-11.44-.87-3.33-3.42-.35-4.76.54-2.56,1.71-7.98,4.19-11.03,3.67-1.2-.21-2.78-.96-4.08-1.3-5.99-1.54-11.94-1.83-18.03-.58-2.16.45-4.62,1.56-6.6,1.87-3.42.54-8.83-1.94-11.57-3.96-.95-.7-1.53-2.02-2.97-1.7ZM99.87,120.14c12.5-4.05,24.49-16.88,22.28-30.86-1.05-6.63-5.63-11.35-12.1-12.91-3.36-.81-6.74-.71-10.17-.68v44.45Z"/>
                        <path d="M39.65.07c2.85-.52,4.3,1.99,5.47,4.15,3.03,5.62,2.67,11.53-.78,16.87-3.72,5.75-12.46,10.14-8.6,18.35.94,2,3.3,3.8,1.57,6.26-1.5,2.13-4.15,1.48-5.67-.3-4.36-5.13-4.26-12.67-.92-18.28,3.56-5.97,12.07-10.25,9.01-18.35-.6-1.59-2.56-3.85-2.61-5.33s.94-3.08,2.52-3.37Z"/>
                        <path d="M68.8.07c2.79-.45,4.31,2.02,5.46,4.15,2.9,5.33,2.74,11.05-.36,16.25-3.76,6.3-13.13,10.47-8.85,19.22.94,1.91,2.91,3.23,1.81,5.59-1.02,2.19-3.93,2.19-5.54.62-4.53-4.42-4.86-12.66-1.95-18.03,3.6-6.64,13.55-10.88,9.3-19.92-.92-1.96-2.77-3.26-2.26-5.71.21-1.04,1.35-2,2.38-2.17Z"/>
                        <path d="M58.31,110.94c-.34,2.84-3.99,9.15-6.2,10.96-2,1.64-3.2.09-4.55-1.46-2.84-3.29-5.31-8.07-4.97-12.5-.3-.08-.26,0-.41.13-10.81,9.39-24.72-5.47-16.42-16.03,8.03-10.22,24.17-1.16,19.93,10.94.25.21,1.72-1.43,2.13-1.69,3.18-2.04,5.23-.29,7.58,1.9-4.18-10.91,9.31-20.63,18.2-12.72,10.43,9.29-1.53,25.83-13.17,18.95-.8-.47-1.33-1.15-2.14-1.48-.08.96.11,2.06,0,3ZM39.29,96.57c.28-.25-1.25-1.54-1.5-1.7-5.52-3.61-11.44,3.18-7.27,8.3,1.95,2.4,5.98,2.69,7.94.23-6.51,2.75-8.71-7.29-1.96-7.44.98-.02,1.83.54,2.79.62ZM70.44,103.32c2.73-2.86,1.48-8.09-2.32-9.22-2.27-.67-5.46.08-6.29,2.47,7.9-3.43,9.14,8.67.83,7.03,1.89,2.3,5.86,1.74,7.78-.28ZM50.4,104.25c-.64.09-2.65,2.37-3.01,3.01-2.08,3.67.82,7.44,3.17,10.19,1.92-2.1,4.53-6.09,3.66-9.03-.3-1.01-2.69-4.33-3.82-4.17Z"/>
                    </svg>
                </div>
                <h1 class="text-2xl font-bold text-slate-800">YonApp</h1>
                
                <p class="text-slate-500 text-sm mt-2 min-h-[20px] font-mono">
                    <span id="typewriter-text"></span><span class="animate-pulse text-blue-600">|</span>
                </p>
            </div>
            <form onsubmit="handleLogin(event)" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Usuario</label>
                    <input type="text" placeholder="admin" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none" required>
                </div>
                <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2.5 rounded-lg transition shadow-lg">
                    Iniciar Sesión
                </button>
            </form>
        </div>
    </div>

    <div id="main-layout" class="hidden flex-1 flex h-screen overflow-hidden">
        
        {% include 'components/sidebar.html' %}

        <main class="flex-1 flex flex-col bg-slate-50 h-full relative overflow-hidden">
            {% include 'components/header.html' %}

            <div class="flex-1 overflow-y-auto p-5 relative">
                
                {% include 'components/views/dashboard.html' %}
                {% include 'components/views/upload.html' %}
                {% include 'components/views/timetable.html' %}
                {% include 'components/views/occupancy.html' %}
                {% include 'components/views/finder.html' %}
                {% include 'components/views/career_schedule.html' %}
                {% include 'components/views/career_list.html' %}
                {% include 'components/views/subject_list.html' %}
            
                
            </div>
        </main>
    </div>

    <div id="modal-loading" class="hidden fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm transition-opacity">
        <div class="bg-white p-8 rounded-2xl shadow-2xl flex flex-col items-center">
            <div class="animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mb-4"></div>
            <h3 class="text-lg font-semibold text-slate-800">Procesando Archivo...</h3>
            <p class="text-slate-500 text-sm">Por favor espera un momento.</p>
        </div>
    </div>

    <div id="modal-status" class="hidden fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm transition-opacity">
        <div class="bg-white p-6 rounded-2xl shadow-2xl w-96 text-center transform scale-100 transition-transform">
            <div id="status-icon-container" class="mx-auto w-16 h-16 flex items-center justify-center rounded-full mb-4 bg-green-100 text-green-600">
                <i id="status-icon" data-lucide="check" class="w-8 h-8"></i>
            </div>
            <h3 id="status-title" class="text-xl font-bold text-slate-800 mb-2">¡Éxito!</h3>
            <p id="status-message" class="text-slate-500 text-sm mb-6">Operación completada.</p>
            <button onclick="closeStatusModal()" class="w-full bg-slate-800 hover:bg-slate-900 text-white font-semibold py-2 rounded-lg transition">
                Aceptar
            </button>
        </div>
    </div>

    <div id="modal-delete-confirm" class="hidden fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm transition-opacity">
        <div class="bg-white p-6 rounded-2xl shadow-2xl w-96 transform scale-100 transition-transform">
            <div class="flex items-center gap-3 mb-4 text-red-600">
                <div class="bg-red-100 p-2 rounded-full">
                    <i data-lucide="alert-triangle" class="w-6 h-6"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">¿Eliminar Sala?</h3>
            </div>
            <p class="text-slate-500 text-sm mb-6">
                Estás a punto de eliminar la sala <span id="delete-room-name" class="font-bold text-slate-800"></span>. 
                Esta acción no se puede deshacer.
            </p>
            <div class="flex gap-3">
                <button onclick="closeRoomDeleteModal()" class="flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 font-medium transition">
                    Cancelar
                </button>
                <button onclick="confirmDeleteRoom()" class="flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition shadow-md">
                    Eliminar
                </button>
            </div>
        </div>
    </div>

    {% include 'components/scripts_include.html' %}
</body>
</html>