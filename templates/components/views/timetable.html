<!DOCTYPE html>
<section id="tab-timetable" class="view-section hidden space-y-6">
    <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex flex-wrap gap-4 items-center justify-between">
        <div class="flex gap-4 items-center">
            <label class="text-sm font-medium text-slate-700">Seleccionar Sala:</label>
            <select id="room-selector" onchange="renderTimetable(this.value)" class="bg-slate-50 border border-slate-300 text-slate-700 text-sm rounded-lg p-2 w-64 outline-none focus:ring-2 focus:ring-blue-500">
                <option value="">-- Seleccione una Sala --</option>
            </select>
        </div>
        <div class="text-sm text-slate-500">
            Haz clic en un bloque para ver detalles
        </div>
    </div>

    <div class="flex gap-6 relative overflow-hidden items-start">
        
        <div id="timetable-wrapper" class="bg-white rounded-xl shadow-sm border border-slate-100 overflow-x-auto p-4 transition-all duration-500 ease-in-out flex-1 w-full">
            <table class="w-auto text-sm border-collapse mx-auto">
                <thead>
                    <tr class="bg-slate-800 text-white text-center">
                        <th class="p-3 border border-slate-700 w-24">Módulo</th>
                        <th class="p-3 border border-slate-700 w-32">Lunes</th>
                        <th class="p-3 border border-slate-700 w-32">Martes</th>
                        <th class="p-3 border border-slate-700 w-32">Miércoles</th>
                        <th class="p-3 border border-slate-700 w-32">Jueves</th>
                        <th class="p-3 border border-slate-700 w-32">Viernes</th>
                        <th class="p-3 border border-slate-700 w-32">Sábado</th>
                    </tr>
                </thead>
                <tbody id="timetable-grid">
                    <script>
                        const times = [
                            "08:00 - 09:20", "09:30 - 10:50", "11:00 - 12:20", "12:30 - 13:50",
                            "14:00 - 15:20", "15:30 - 16:50", "17:00 - 18:20", "18:30 - 19:50"
                        ];
                        const days = ["lunes", "martes", "miercoles", "jueves", "viernes", "sabado"];
                        
                        for(let i=0; i<8; i++) {
                            document.write(`<tr class="border-b border-slate-200 hover:bg-slate-50 transition">`);
                            document.write(`
                                <td class="p-2 border-r border-slate-200 bg-slate-50 text-center w-24">
                                    <span class="block font-bold text-blue-900">Módulo ${i+1}</span>
                                    <span class="text-xs text-slate-500 whitespace-nowrap">${times[i]}</span>
                                </td>
                            `);
                            days.forEach(day => {
                                document.write(`<td id="cell-${day}-${i+1}" class="p-1 border-r border-slate-200 align-top h-20 relative w-32"></td>`);
                            });
                            document.write(`</tr>`);
                        }
                    </script>
                </tbody>
            </table>
        </div>

        <aside id="details-panel" class="w-0 opacity-0 bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden transition-all duration-500 ease-in-out transform translate-x-full h-fit sticky top-0">
            <div class="w-80 p-6"> <div class="flex justify-between items-start mb-6 border-b border-slate-100 pb-4">
                    <h3 class="font-bold text-xl text-slate-800">Detalle Asignatura</h3>
                    <button onclick="closeDetailsPanel()" class="text-slate-400 hover:text-red-500 transition p-1 hover:bg-red-50 rounded">
                        <i data-lucide="x" class="w-5 h-5"></i>
                    </button>
                </div>

                <div class="space-y-4 text-sm" id="details-content">
                    </div>
            </div>
        </aside>

    </div>
</section>